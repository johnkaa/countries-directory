import{h as N,u as T}from"./DLZtT5lC.js";import{E as A,k as z,G,q as B,H as J,I as C,D as V,J as x,K,l as Q,L as X,s as b,M as $,N as Y,O as Z,_ as ee,m as te,n as M,f as U,v as ae,x as ie,o as se,c as ne,A as re,P as I,Q as oe,R as P,S as ce,T as q,U as de,V as E,W as ue,u as le,X as fe,Y as he}from"./C-Ztj4gz.js";const ge=e=>e==="defer"||e===!1;function me(...e){var m;const t=typeof e[e.length-1]=="string"?e.pop():void 0;typeof e[0]!="string"&&e.unshift(t);let[i,a,s={}]=e;if(typeof i!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof a!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const n=x(),r=a,d=()=>null,u=()=>n.isHydrating?n.payload.data[i]:n.static.data[i];s.server=s.server??!0,s.default=s.default??d,s.getCachedData=s.getCachedData??u,s.lazy=s.lazy??!1,s.immediate=s.immediate??!0,s.deep=s.deep??A.deep,s.dedupe=s.dedupe??"cancel";const l=()=>s.getCachedData(i,n)!=null;if(!n._asyncData[i]||!s.immediate){(m=n.payload._errors)[i]??(m[i]=null);const h=s.deep?z:G;n._asyncData[i]={data:h(s.getCachedData(i,n)??s.default()),pending:z(!l()),error:B(n.payload._errors,i),status:z("idle")}}const o={...n._asyncData[i]};o.refresh=o.execute=(h={})=>{if(n._asyncDataPromises[i]){if(ge(h.dedupe??s.dedupe))return n._asyncDataPromises[i];n._asyncDataPromises[i].cancelled=!0}if((h._initial||n.isHydrating&&h._initial!==!1)&&l())return Promise.resolve(s.getCachedData(i,n));o.pending.value=!0,o.status.value="pending";const w=new Promise((f,p)=>{try{f(r(n))}catch(g){p(g)}}).then(async f=>{if(w.cancelled)return n._asyncDataPromises[i];let p=f;s.transform&&(p=await s.transform(f)),s.pick&&(p=ve(p,s.pick)),n.payload.data[i]=p,o.data.value=p,o.error.value=null,o.status.value="success"}).catch(f=>{if(w.cancelled)return n._asyncDataPromises[i];o.error.value=K(f),o.data.value=Q(s.default()),o.status.value="error"}).finally(()=>{w.cancelled||(o.pending.value=!1,delete n._asyncDataPromises[i])});return n._asyncDataPromises[i]=w,n._asyncDataPromises[i]},o.clear=()=>ye(n,i);const v=()=>o.refresh({_initial:!0}),S=s.server!==!1&&n.payload.serverRendered;{const h=X();if(h&&!h._nuxtOnBeforeMountCbs){h._nuxtOnBeforeMountCbs=[];const f=h._nuxtOnBeforeMountCbs;h&&(J(()=>{f.forEach(p=>{p()}),f.splice(0,f.length)}),C(()=>f.splice(0,f.length)))}S&&n.isHydrating&&(o.error.value||l())?(o.pending.value=!1,o.status.value=o.error.value?"error":"success"):h&&(n.payload.serverRendered&&n.isHydrating||s.lazy)&&s.immediate?h._nuxtOnBeforeMountCbs.push(v):s.immediate&&v(),s.watch&&V(s.watch,()=>o.refresh());const w=n.hook("app:data:refresh",async f=>{(!f||f.includes(i))&&await o.refresh()});h&&C(w)}const c=Promise.resolve(n._asyncDataPromises[i]).then(()=>o);return Object.assign(c,o),c}function ye(e,t){t in e.payload.data&&(e.payload.data[t]=void 0),t in e.payload._errors&&(e.payload._errors[t]=null),e._asyncData[t]&&(e._asyncData[t].data.value=void 0,e._asyncData[t].error.value=null,e._asyncData[t].pending.value=!1,e._asyncData[t].status.value="idle"),t in e._asyncDataPromises&&(e._asyncDataPromises[t].cancelled=!0,e._asyncDataPromises[t]=void 0)}function ve(e,t){const i={};for(const a of t)i[a]=e[a];return i}function Ke(e,t,i){const[a={},s]=typeof t=="string"?[{},t]:[t,i],n=b(()=>$(e)),r=a.key||N([s,typeof n.value=="string"?n.value:"",...pe(a)]);if(!r||typeof r!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+r);if(!e)throw new Error("[nuxt] [useFetch] request is missing.");const d=r===s?"$f"+r:r;if(!a.baseURL&&typeof n.value=="string"&&n.value[0]==="/"&&n.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:u,lazy:l,default:o,transform:v,pick:S,watch:c,immediate:m,getCachedData:h,deep:w,dedupe:f,...p}=a,g=Y({...Z,...p,cache:typeof a.cache=="boolean"?void 0:a.cache}),_={server:u,lazy:l,default:o,transform:v,pick:S,immediate:m,getCachedData:h,deep:w,dedupe:f,watch:c===!1?[]:[g,n,...c||[]]};let y;return me(d,()=>{var j;(j=y==null?void 0:y.abort)==null||j.call(y),y=typeof AbortController<"u"?new AbortController:{};const O=$(a.timeout);return O&&setTimeout(()=>y.abort(),O),(a.$fetch||globalThis.$fetch)(n.value,{signal:y.signal,...g})},_)}function pe(e){var i;const t=[((i=$(e.method))==null?void 0:i.toUpperCase())||"GET",$(e.baseURL)];for(const a of[e.params||e.query]){const s=$(a);if(!s)continue;const n={};for(const[r,d]of Object.entries(s))n[$(r)]=$(d);t.push(n)}return t}const we={base:"animate-pulse",background:"bg-gray-100 dark:bg-gray-800",rounded:"rounded-md"},_e=te(M.ui.strategy,M.ui.skeleton,we),be=U({inheritAttrs:!1,props:{class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:t,attrs:i}=T("skeleton",B(e,"ui"),_e),a=b(()=>ae(ie(t.value.base,t.value.background,t.value.rounded),e.class));return{ui:t,attrs:i,skeletonClass:a}}});function De(e,t,i,a,s,n){return se(),ne("div",re({class:e.skeletonClass},e.attrs),null,16)}const Qe=ee(be,[["render",De]]);async function Se(e,t){return await $e(t).catch(a=>(console.error("Failed to get image meta for "+t,a+""),{width:0,height:0,ratio:0}))}async function $e(e){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((t,i)=>{const a=new Image;a.onload=()=>{const s={width:a.width,height:a.height,ratio:a.width/a.height};t(s)},a.onerror=s=>i(s),a.src=e})}function W(e){return t=>t?e[t]||t:e.missingValue}function ze({formatter:e,keyMap:t,joinWith:i="/",valueMap:a}={}){e||(e=(n,r)=>`${n}=${r}`),t&&typeof t!="function"&&(t=W(t));const s=a||{};return Object.keys(s).forEach(n=>{typeof s[n]!="function"&&(s[n]=W(s[n]))}),(n={})=>Object.entries(n).filter(([d,u])=>typeof u<"u").map(([d,u])=>{const l=s[d];return typeof l=="function"&&(u=l(n[d])),d=typeof t=="function"?t(d):d,e(d,u)}).join(i)}function D(e=""){if(typeof e=="number")return e;if(typeof e=="string"&&e.replace("px","").match(/^\d+$/g))return parseInt(e,10)}function Pe(e=""){if(e===void 0||!e.length)return[];const t=new Set;for(const i of e.split(" ")){const a=parseInt(i.replace("x",""));a&&t.add(a)}return Array.from(t)}function xe(e){if(e.length===0)throw new Error("`densities` must not be empty, configure to `1` to render regular size only (DPR 1.0)")}function Oe(e){const t={};if(typeof e=="string")for(const i of e.split(/[\s,]+/).filter(a=>a)){const a=i.split(":");a.length!==2?t["1px"]=a[0].trim():t[a[0].trim()]=a[1].trim()}else Object.assign(t,e);return t}function je(e){const t={options:e},i=(s,n={})=>H(t,s,n),a=(s,n={},r={})=>i(s,{...r,modifiers:q(n,r.modifiers||{})}).url;for(const s in e.presets)a[s]=(n,r,d)=>a(n,r,{...e.presets[s],...d});return a.options=e,a.getImage=i,a.getMeta=(s,n)=>Ce(t,s,n),a.getSizes=(s,n)=>Ee(t,s,n),t.$img=a,a}async function Ce(e,t,i){const a=H(e,t,{...i});return typeof a.getMeta=="function"?await a.getMeta():await Se(e,a.url)}function H(e,t,i){var l,o;if(typeof t!="string"||t==="")throw new TypeError(`input must be a string (received ${typeof t}: ${JSON.stringify(t)})`);if(t.startsWith("data:"))return{url:t};const{provider:a,defaults:s}=Me(e,i.provider||e.options.provider),n=Ie(e,i.preset);if(t=I(t)?t:oe(t),!a.supportsAlias)for(const v in e.options.alias)t.startsWith(v)&&(t=P(e.options.alias[v],t.substr(v.length)));if(a.validateDomains&&I(t)){const v=ce(t).host;if(!e.options.domains.find(S=>S===v))return{url:t}}const r=q(i,n,s);r.modifiers={...r.modifiers};const d=r.modifiers.format;(l=r.modifiers)!=null&&l.width&&(r.modifiers.width=D(r.modifiers.width)),(o=r.modifiers)!=null&&o.height&&(r.modifiers.height=D(r.modifiers.height));const u=a.getImage(t,r,e);return u.format=u.format||d||"",u}function Me(e,t){const i=e.options.providers[t];if(!i)throw new Error("Unknown provider: "+t);return i}function Ie(e,t){if(!t)return{};if(!e.options.presets[t])throw new Error("Unknown preset: "+t);return e.options.presets[t]}function Ee(e,t,i){var m,h,w,f,p;const a=D((m=i.modifiers)==null?void 0:m.width),s=D((h=i.modifiers)==null?void 0:h.height),n=Oe(i.sizes),r=(w=i.densities)!=null&&w.trim()?Pe(i.densities.trim()):e.options.densities;xe(r);const d=a&&s?s/a:0,u=[],l=[];if(Object.keys(n).length>=1){for(const g in n){const _=R(g,String(n[g]),s,d,e);if(_!==void 0){u.push({size:_.size,screenMaxWidth:_.screenMaxWidth,media:`(max-width: ${_.screenMaxWidth}px)`});for(const y of r)l.push({width:_._cWidth*y,src:k(e,t,i,_,y)})}}We(u)}else for(const g of r){const _=Object.keys(n)[0];let y=R(_,String(n[_]),s,d,e);y===void 0&&(y={size:"",screenMaxWidth:0,_cWidth:(f=i.modifiers)==null?void 0:f.width,_cHeight:(p=i.modifiers)==null?void 0:p.height}),l.push({width:g,src:k(e,t,i,y,g)})}Re(l);const o=l[l.length-1],v=u.length?u.map(g=>`${g.media?g.media+" ":""}${g.size}`).join(", "):void 0,S=v?"w":"x",c=l.map(g=>`${g.src} ${g.width}${S}`).join(", ");return{sizes:v,srcset:c,src:o==null?void 0:o.src}}function R(e,t,i,a,s){const n=s.options.screens&&s.options.screens[e]||parseInt(e),r=t.endsWith("vw");if(!r&&/^\d+$/.test(t)&&(t=t+"px"),!r&&!t.endsWith("px"))return;let d=parseInt(t);if(!n||!d)return;r&&(d=Math.round(d/100*n));const u=a?Math.round(d*a):i;return{size:t,screenMaxWidth:n,_cWidth:d,_cHeight:u}}function k(e,t,i,a,s){return e.$img(t,{...i.modifiers,width:a._cWidth?a._cWidth*s:void 0,height:a._cHeight?a._cHeight*s:void 0},i)}function We(e){var i;e.sort((a,s)=>a.screenMaxWidth-s.screenMaxWidth);let t=null;for(let a=e.length-1;a>=0;a--){const s=e[a];s.media===t&&e.splice(a,1),t=s.media}for(let a=0;a<e.length;a++)e[a].media=((i=e[a+1])==null?void 0:i.media)||""}function Re(e){e.sort((i,a)=>i.width-a.width);let t=null;for(let i=e.length-1;i>=0;i--){const a=e[i];a.width===t&&e.splice(i,1),t=a.width}}const ke=ze({keyMap:{format:"f",fit:"fit",width:"w",height:"h",resize:"s",quality:"q",background:"b"},joinWith:"&",formatter:(e,t)=>E(e)+"_"+E(t)}),Be=(e,{modifiers:t={},baseURL:i}={},a)=>{t.width&&t.height&&(t.resize=`${t.width}x${t.height}`,delete t.width,delete t.height);const s=ke(t)||"_";return i||(i=P(a.options.nuxt.baseURL,"/_ipx")),{url:P(i,s,de(e))}},Ue=!0,qe=!0,He=Object.freeze(Object.defineProperty({__proto__:null,getImage:Be,supportsAlias:qe,validateDomains:Ue},Symbol.toStringTag,{value:"Module"})),F={screens:{xs:320,sm:640,md:768,lg:1024,xl:1280,xxl:1536,"2xl":1536},presets:{},provider:"ipxStatic",domains:[],alias:{},densities:[1,2],format:["webp"]};F.providers={ipxStatic:{provider:He,defaults:{}}};const L=()=>{const e=ue(),t=x();return t.$img||t._img||(t._img=je({...F,nuxt:{baseURL:e.app.baseURL}}))};function Fe(e){var t;(t=performance==null?void 0:performance.mark)==null||t.call(performance,"mark_feature_usage",{detail:{feature:e}})}const Le={src:{type:String,required:!0},format:{type:String,default:void 0},quality:{type:[Number,String],default:void 0},background:{type:String,default:void 0},fit:{type:String,default:void 0},modifiers:{type:Object,default:void 0},preset:{type:String,default:void 0},provider:{type:String,default:void 0},sizes:{type:[Object,String],default:void 0},densities:{type:String,default:void 0},preload:{type:Boolean,default:void 0},width:{type:[String,Number],default:void 0},height:{type:[String,Number],default:void 0},alt:{type:String,default:void 0},referrerpolicy:{type:String,default:void 0},usemap:{type:String,default:void 0},longdesc:{type:String,default:void 0},ismap:{type:Boolean,default:void 0},loading:{type:String,default:void 0,validator:e=>["lazy","eager"].includes(e)},crossorigin:{type:[Boolean,String],default:void 0,validator:e=>["anonymous","use-credentials","",!0,!1].includes(e)},decoding:{type:String,default:void 0,validator:e=>["async","auto","sync"].includes(e)},nonce:{type:[String],default:void 0}},Ne=e=>{const t=b(()=>({provider:e.provider,preset:e.preset})),i=b(()=>({width:D(e.width),height:D(e.height),alt:e.alt,referrerpolicy:e.referrerpolicy,usemap:e.usemap,longdesc:e.longdesc,ismap:e.ismap,crossorigin:e.crossorigin===!0?"anonymous":e.crossorigin||void 0,loading:e.loading,decoding:e.decoding,nonce:e.nonce})),a=L(),s=b(()=>({...e.modifiers,width:D(e.width),height:D(e.height),format:e.format,quality:e.quality||a.options.quality,background:e.background,fit:e.fit}));return{options:t,attrs:i,modifiers:s}},Te={...Le,placeholder:{type:[Boolean,String,Number,Array],default:void 0}},Xe=U({name:"NuxtImg",props:Te,emits:["load","error"],setup:(e,t)=>{const i=L(),a=Ne(e),s=z(!1),n=b(()=>i.getSizes(e.src,{...a.options.value,sizes:e.sizes,densities:e.densities,modifiers:{...a.modifiers.value,width:D(e.width),height:D(e.height)}})),r=b(()=>{const c={...a.attrs.value,"data-nuxt-img":""};return(!e.placeholder||s.value)&&(c.sizes=n.value.sizes,c.srcset=n.value.srcset),c}),d=b(()=>{let c=e.placeholder;if(c===""&&(c=!0),!c||s.value)return!1;if(typeof c=="string")return c;const m=Array.isArray(c)?c:typeof c=="number"?[c,c]:[10,10];return i(e.src,{...a.modifiers.value,width:m[0],height:m[1],quality:m[2]||50,blur:m[3]||3},a.options.value)}),u=b(()=>e.sizes?n.value.src:i(e.src,a.modifiers.value,a.options.value)),l=b(()=>d.value?d.value:u.value);if(e.preload){const c=Object.values(n.value).every(m=>m);le({link:[{rel:"preload",as:"image",nonce:e.nonce,...c?{href:n.value.src,imagesizes:n.value.sizes,imagesrcset:n.value.srcset}:{href:l.value}}]})}const o=z(),S=x().isHydrating;return fe(()=>{if(d.value){const c=new Image;c.src=u.value,e.sizes&&(c.sizes=n.value.sizes||"",c.srcset=n.value.srcset),c.onload=m=>{s.value=!0,t.emit("load",m)},Fe("nuxt-image");return}o.value&&(o.value.complete&&S&&(o.value.getAttribute("data-error")?t.emit("error",new Event("error")):t.emit("load",new Event("load"))),o.value.onload=c=>{t.emit("load",c)},o.value.onerror=c=>{t.emit("error",c)})}),()=>he("img",{ref:o,src:l.value,...r.value,...t.attrs})}});export{Qe as _,Xe as a,me as b,Ke as u};
